{"version":3,"sources":["actions/Order.js","components/cart/Pagamento.jsx"],"names":["orderErrorAction","error","type","ORDER_ERROR","orderStore","dispatch","customer","cart","line_items","items","forEach","item","push","product_id","produto","id","quantity","quantidade","data","payment_method","payment_method_title","set_paid","shipping","shipping_lines","method_id","method_title","WOO_API","post","then","response","ORDER_STORE","orderStoreAction","cartRemoveAllItemsAction","catch","Pagamento","props","gateways","useDispatch","React","useState","value","setValue","Box","p","Grid","container","xs","Button","onClick","prevClick","FormControl","component","RadioGroup","aria-label","name","onChange","event","target","map","gw","FormControlLabel","control","Radio","label","title","key","style","marginTop","variant","color","backgroundColor","green","width"],"mappings":"kOAYO,SAASA,EAAiBC,GAC/B,MAAO,CAAEC,KAAMC,IAAaF,SAGvB,SAASG,EAAWC,EAAUC,EAAUC,GAC7C,IAAMC,EAAa,GACnBD,EAAKE,MAAMC,SAAQ,SAAAC,GACjBH,EAAWI,KAAK,CAAEC,WAAYF,EAAKG,QAAQC,GAAIC,SAAUL,EAAKM,gBAEhE,IAAMC,EAAO,CACXC,eAAgB,OAChBC,qBAAsB,uBACtBC,UAAU,EACVC,SAAUhB,EAASgB,SAEnBd,WAAYA,EACZe,eAAgB,CACd,CACEC,UAAW,eACXC,aAAc,sBAKpBC,IAAQC,KAAK,SAAUT,GACpBU,MAAK,SAAAC,GACJxB,EAlCC,SAA0Ba,GAC/B,MAAO,CAAEhB,KAAM4B,IAAaZ,QAiCfa,CAAiBF,EAASX,OACnCb,EAAS2B,kBAEVC,OAAM,SAAAhC,GACLI,EAASL,EAAiBC,EAAM4B,c,2EC5BvB,SAASK,EAAUC,GAAQ,IAChC5B,EAA6B4B,EAA7B5B,KAAM6B,EAAuBD,EAAvBC,SAAU9B,EAAa6B,EAAb7B,SAClBD,EAAWgC,cAFsB,EAGbC,IAAMC,SAAS,IAHF,mBAGhCC,EAHgC,KAGzBC,EAHyB,KAavC,OACE,kBAACC,EAAA,EAAD,CAAKC,EAAG,GACN,yDACA,kBAACC,EAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,EAAA,EAAD,CAAMjC,MAAI,EAACmC,GAAI,IACb,kBAACC,EAAA,EAAD,CAAQC,QAASb,EAAMc,WAAvB,WAEF,kBAACL,EAAA,EAAD,CAAMjC,MAAI,EAACmC,GAAI,IACb,kBAACI,EAAA,EAAD,CAAaC,UAAU,YACrB,kBAACC,EAAA,EAAD,CACEC,aAAW,YACXC,KAAK,YACLd,MAAOA,EACPe,SArBS,SAAAC,GACnBf,EAASe,EAAMC,OAAOjB,SAsBXJ,EAASsB,KAAI,SAAAC,GAAE,OACd,kBAACC,EAAA,EAAD,CACEpB,MAAOmB,EAAG5C,GACV8C,QAAS,kBAACC,EAAA,EAAD,MACTC,MAAOJ,EAAGK,MACVC,IAAKN,EAAG5C,WAMlB,kBAAC6B,EAAA,EAAD,CAAMjC,MAAI,EAACmC,GAAI,GAAIoB,MAAO,CAAEC,UAAW,KACrC,kBAACpB,EAAA,EAAD,CACEqB,QAAQ,YACRC,MAAM,UACNH,MAAO,CAAEI,gBAAiBC,IAAM,KAAMC,MAAO,QAC7CxB,QAnCc,WACtB5C,EAAWC,EAAUC,EAAUC,KA8BzB","file":"static/js/12.9bd93905.chunk.js","sourcesContent":["import { WOO_API } from \"../woocommerce\";\nimport { ORDER_GET, ORDER_STORE, ORDER_ERROR } from \"./actionTypes\";\nimport { cartRemoveAllItemsAction } from \"./Cart\";\n\nexport function orderStoreAction(data) {\n  return { type: ORDER_STORE, data };\n}\n\nexport function orderGetAction(data) {\n  return { type: ORDER_GET, data };\n}\n\nexport function orderErrorAction(error) {\n  return { type: ORDER_ERROR, error };\n}\n\nexport function orderStore(dispatch, customer, cart) {\n  const line_items = [];\n  cart.items.forEach(item => {\n    line_items.push({ product_id: item.produto.id, quantity: item.quantidade });\n  });\n  const data = {\n    payment_method: \"bacs\",\n    payment_method_title: \"Direct Bank Transfer\",\n    set_paid: false,\n    shipping: customer.shipping,\n\n    line_items: line_items,\n    shipping_lines: [\n      {\n        method_id: \"local_pickup\",\n        method_title: \"Retirar no Local\"\n      }\n    ]\n  };\n\n  WOO_API.post(\"orders\", data)\n    .then(response => {\n      dispatch(orderStoreAction(response.data));\n      dispatch(cartRemoveAllItemsAction());\n    })\n    .catch(error => {\n      dispatch(orderErrorAction(error.response));\n    });\n}\n\nexport function orderGet(dispatch, order_id) {\n  WOO_API.get(\"orders/\" + { order_id })\n    .then(response => {\n      dispatch(orderGetAction(response.data));\n    })\n    .catch(error => {\n      dispatch(orderErrorAction(error.response));\n    });\n}\n","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { orderStore } from \"../../actions/Order\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Box,\n  Button,\n  FormControl,\n  RadioGroup,\n  FormControlLabel,\n  Radio,\n  Grid\n} from \"@material-ui/core\";\n\nexport default function Pagamento(props) {\n  const { cart, gateways, customer } = props;\n  const dispatch = useDispatch();\n  const [value, setValue] = React.useState(\"\");\n\n  const handleChange = event => {\n    setValue(event.target.value);\n  };\n\n  const finalizarCompra = () => {\n    orderStore(dispatch, customer, cart);\n  };\n\n  return (\n    <Box p={2}>\n      <h3>Opções de pagamento</h3>\n      <Grid container>\n        <Grid item xs={12}>\n          <Button onClick={props.prevClick}>Voltar</Button>\n        </Grid>\n        <Grid item xs={12}>\n          <FormControl component=\"fieldset\">\n            <RadioGroup\n              aria-label=\"pagamento\"\n              name=\"pagamento\"\n              value={value}\n              onChange={handleChange}\n            >\n              {gateways.map(gw => (\n                <FormControlLabel\n                  value={gw.id}\n                  control={<Radio />}\n                  label={gw.title}\n                  key={gw.id}\n                />\n              ))}\n            </RadioGroup>\n          </FormControl>\n        </Grid>\n        <Grid item xs={12} style={{ marginTop: 20 }}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            style={{ backgroundColor: green[500], width: \"100%\" }}\n            onClick={finalizarCompra}\n          >\n            FINALIZAR COMPRA\n          </Button>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n}\n"],"sourceRoot":""}